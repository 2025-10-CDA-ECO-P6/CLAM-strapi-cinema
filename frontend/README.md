# Cineverse - Frontend

Interface utilisateur pour l'application Cineverse, un syst√®me de gestion et d√©couverte de films utilisant les donn√©es TMDb.

## üìã Table des mati√®res

- [Technologies](#technologies)
- [Structure du projet](#structure-du-projet)
- [Installation](#installation)
- [D√©marrage](#d√©marrage)
- [Architecture](#architecture)
- [Pages disponibles](#pages-disponibles)
- [Authentification](#authentification)
- [Fonctionnalit√©s](#fonctionnalit√©s)
- [Design System](#design-system)
- [API Client](#api-client)
- [Contribution](#contribution)

## üõ† Technologies

- **HTML5** - Structure des pages
- **CSS3** - Styles avec variables CSS et Material Design
- **JavaScript (Vanilla)** - Logique applicative
- **Alpine.js** (via CDN) - Framework JS r√©actif l√©ger
- **Materialize CSS** - Framework CSS Material Design
- **Axios** (via CDN) - Client HTTP pour les appels API
- **Swiper.js** - Carrousels et sliders
- **Express.js** - Serveur de fichiers statiques
- **Node.js** - Environnement d'ex√©cution

## üìÅ Structure du projet

```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles.css        # Styles principaux de l'application
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.css          # Styles pages authentification
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ account.css       # Styles pages compte/favoris/listes
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ script.js         # Script global (header, auth)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js          # Page d'accueil (Alpine.js)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js            # Client Axios avec intercepteur JWT
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authentication.js # Fonctions login/register/logout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.js          # Logique page connexion
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register.js       # Logique page inscription
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ compte.js         # Logique page compte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ favoris.js        # Gestion favoris
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ listes.js         # Gestion listes personnalis√©es
‚îÇ   ‚îú‚îÄ‚îÄ index.html            # Page d'accueil
‚îÇ   ‚îú‚îÄ‚îÄ movies.html           # Liste des films
‚îÇ   ‚îú‚îÄ‚îÄ movie-details.html    # D√©tails d'un film
‚îÇ   ‚îú‚îÄ‚îÄ actors.html           # Liste des acteurs
‚îÇ   ‚îú‚îÄ‚îÄ directors.html        # Liste des r√©alisateurs
‚îÇ   ‚îú‚îÄ‚îÄ details.html          # D√©tails acteur/r√©alisateur
‚îÇ   ‚îú‚îÄ‚îÄ search-results.html   # R√©sultats de recherche
‚îÇ   ‚îú‚îÄ‚îÄ login.html            # Page connexion
‚îÇ   ‚îú‚îÄ‚îÄ register.html         # Page inscription
‚îÇ   ‚îú‚îÄ‚îÄ compte.html           # Page compte utilisateur
‚îÇ   ‚îú‚îÄ‚îÄ favoris.html          # Page favoris
‚îÇ   ‚îî‚îÄ‚îÄ listes.html           # Page listes personnalis√©es
‚îú‚îÄ‚îÄ server.js                 # Serveur Express
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md

```

## üöÄ Installation

### Pr√©requis

- Node.js (>= 18.0.0, <= 22.x.x)
- npm (>= 6.0.0)
- Backend Strapi en cours d'ex√©cution sur `http://localhost:1337`

### Installation des d√©pendances

```bash
cd frontend
npm install
```

## ‚ñ∂Ô∏è D√©marrage

### Mode d√©veloppement

```bash
npm start
# ou
npm run dev
```

Le frontend sera accessible sur **http://localhost:3001**

### Configuration

L'URL de l'API backend est configur√©e dans `src/js/api.js` :

```javascript
const apiClient = axios.create({
  baseURL: 'http://localhost:1337/api',
  timeout: 10000
});
```

Pour changer l'URL du backend, modifiez la propri√©t√© `baseURL`.

## üèó Architecture

### Architecture sans build

Le frontend utilise une architecture **sans √©tape de build** :
- Fichiers HTML/CSS/JS servis directement
- Biblioth√®ques charg√©es via CDN
- Server Express simple pour servir les fichiers statiques

### Patterns utilis√©s

#### 1. Alpine.js pour la r√©activit√©
```javascript
// Composants Alpine.js dans index.js
document.addEventListener('alpine:init', () => {
    Alpine.data('moviesCarousel', () => ({
        movies: [],
        loading: true,
        async init() {
            await this.fetchMovies();
        }
    }));
});
```

#### 2. Client API centralis√© avec intercepteurs JWT
```javascript
// api.js - Interception automatique pour JWT
apiClient.interceptors.request.use(config => {
    const token = localStorage.getItem('jwt');
    if (token) {
        config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
});
```

#### 3. Modules JavaScript
Les scripts sont charg√©s comme modules ES6 :
```html
<script type="module" src="js/script.js"></script>
```

## üìÑ Pages disponibles

### Pages publiques

| Page | URL | Description |
|------|-----|-------------|
| Accueil | `/` ou `/index.html` | Carrousel de films populaires |
| Films | `/movies.html` | Liste compl√®te des films avec filtres |
| D√©tails film | `/movie-details.html?id={id}` | D√©tails complets d'un film |
| Acteurs | `/actors.html` | Liste des acteurs avec filtres |
| R√©alisateurs | `/directors.html` | Liste des r√©alisateurs |
| D√©tails personne | `/details.html?type={actor/director}&id={id}` | Biographie et filmographie |
| Recherche | `/search-results.html?query={query}` | R√©sultats de recherche universelle |

### Pages authentification

| Page | URL | Description |
|------|-----|-------------|
| Connexion | `/login.html` | Formulaire de connexion |
| Inscription | `/register.html` | Formulaire d'inscription |

### Pages priv√©es (authentification requise)

| Page | URL | Description |
|------|-----|-------------|
| Compte | `/compte.html` | Profil utilisateur et statistiques |
| Favoris | `/favoris.html` | Films mis en favoris |
| Listes | `/listes.html` | Listes personnalis√©es de films |

## üîê Authentification

### Syst√®me JWT

L'application utilise JWT (JSON Web Tokens) pour l'authentification :

1. **Login** : L'utilisateur se connecte via `/login.html`
2. **Stockage** : Le JWT est stock√© dans `localStorage`
3. **Interception** : Axios ajoute automatiquement le token dans les headers
4. **V√©rification** : Le backend Strapi v√©rifie le token sur chaque requ√™te

### Exemple d'utilisation

```javascript
// login.js
import { login } from './authentication.js';

const { jwt, user } = await login(identifier, password);
localStorage.setItem('jwt', jwt);
localStorage.setItem('user', JSON.stringify(user));
```

### Protection des pages

Les pages priv√©es v√©rifient la pr√©sence du JWT :

```javascript
const token = localStorage.getItem('jwt');
if (!token) {
    window.location.href = 'login.html';
}
```

## ‚ú® Fonctionnalit√©s

### Recherche universelle
- Recherche dans films, acteurs et r√©alisateurs
- Affichage des r√©sultats par cat√©gorie
- Accessible depuis toutes les pages via le header

### Carrousels Swiper
- **Page d'accueil** : Carrousel plein √©cran des films populaires
- **D√©tails acteur/r√©alisateur** : Filmographie en carrousel
- **D√©tails film** : Acteurs et r√©alisateurs en carrousel

### Filtres et tri
- Tri par popularit√©, date, note
- Filtrage par genre (films)
- Filtrage par genre de film (acteurs)

### Gestion des favoris
- Ajout/suppression de films en favoris
- Vue d√©di√©e des favoris
- Synchronisation avec le backend

### Listes personnalis√©es
- Cr√©ation de listes de films
- Ajout/suppression de films dans les listes
- Gestion (√©dition, suppression) des listes

### Profil utilisateur
- Affichage des informations de compte
- Statistiques (nombre de favoris, listes)
- D√©connexion
- Zone dangereuse (suppression de compte)

## üé® Design System

### Palette de couleurs

Le design utilise un th√®me **rouge sombre** coh√©rent :

```css
:root {
    /* Couleurs principales */
    --primary-color: #8B0000;      /* Rouge sombre */
    --primary-dark: #6B0000;       /* Rouge tr√®s sombre */
    --primary-light: #A00000;      /* Rouge moyen */
    --accent-color: #DC143C;       /* Crimson (rouge vif) */
    --accent-light: #B22222;       /* Firebrick */

    /* Arri√®re-plans */
    --background-dark: #121212;
    --background-elevation-1: #1E1E1E;
    --background-elevation-2: #2C2C2C;
    --background-footer: #5C0000;

    /* Textes */
    --text-primary: #FFFFFF;
    --text-secondary: rgba(255, 255, 255, 0.7);
    --text-disabled: rgba(255, 255, 255, 0.5);
}
```

### Composants

#### Boutons
- **Primaire** : Fond rouge sombre, texte blanc
- **Secondaire** : Fond transparent, bordure rouge fine
- **Danger** : Fond rouge accent

#### Cards
- Fond `--background-elevation-1`
- Border-radius : 8px
- Ombres Material Design
- Effet hover : √©l√©vation + scale

#### Formulaires
- Inputs : Fond `--background-elevation-2`
- Focus : Bordure rouge sombre
- Labels : Texte secondaire

### Responsive
- **Desktop** : > 968px - Layout complet
- **Tablet** : 640px - 968px - Layout adapt√©
- **Mobile** : < 640px - Layout vertical

## üîå API Client

### Configuration Axios

Le client API est configur√© dans `src/js/api.js` :

```javascript
import axios from 'https://cdn.jsdelivr.net/npm/axios@1.6.0/+esm';

const apiClient = axios.create({
  baseURL: 'http://localhost:1337/api',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
});

// Intercepteur pour JWT
apiClient.interceptors.request.use(config => {
    const token = localStorage.getItem('jwt');
    if (token) {
        config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
});

export default apiClient;
```

### Endpoints utilis√©s

| Endpoint | M√©thode | Description |
|----------|---------|-------------|
| `/movies` | GET | Liste des films |
| `/movies/:id` | GET | D√©tails d'un film |
| `/actors` | GET | Liste des acteurs |
| `/actors/:id` | GET | D√©tails d'un acteur |
| `/directors` | GET | Liste des r√©alisateurs |
| `/directors/:id` | GET | D√©tails d'un r√©alisateur |
| `/genres` | GET | Liste des genres |
| `/auth/local` | POST | Connexion |
| `/auth/local/register` | POST | Inscription |
| `/users/me` | GET | Informations utilisateur |
| `/favorites` | GET/POST/DELETE | Gestion favoris |

### Pagination

Param√®tres de pagination Strapi :
```javascript
const params = {
    'pagination[page]': 1,
    'pagination[pageSize]': 25,
    'populate': '*'
};
```

## ü§ù Contribution

### Standards de code

#### HTML
- Indentation : 2 espaces
- Attributs : guillemets doubles
- Classes : kebab-case

#### CSS
- Indentation : 4 espaces
- Propri√©t√©s : kebab-case
- Commentaires : sections avec s√©parateurs

#### JavaScript
- Indentation : 2 espaces
- Convention : camelCase
- Imports ES6 modules
- Async/await pr√©f√©r√© aux Promises

### Ajout d'une nouvelle page

1. Cr√©er le fichier HTML dans `src/`
2. Cr√©er le fichier JS associ√© dans `src/js/`
3. Cr√©er les styles sp√©cifiques si n√©cessaire dans `src/css/`
4. Importer les d√©pendances n√©cessaires (Alpine.js, Axios, etc.)
5. Ajouter les liens de navigation dans le header

### Modification des styles

Les styles sont organis√©s par section :
- `styles.css` : Styles globaux et pages publiques
- `auth.css` : Pages login/register
- `account.css` : Pages compte/favoris/listes

Toujours utiliser les variables CSS d√©finies dans `:root` pour maintenir la coh√©rence.

## üì¶ D√©pendances CDN

Les biblioth√®ques suivantes sont charg√©es via CDN :

- **Alpine.js** v3.x : Framework r√©actif
- **Axios** v1.6.0 : Client HTTP
- **Swiper** v11.x : Carrousels
- **Materialize CSS** v1.0.0 : Framework Material Design
- **Material Icons** : Ic√¥nes Google

## üîß Configuration serveur

Le serveur Express (`server.js`) est configur√© pour :
- Servir les fichiers statiques depuis `/src`
- Port par d√©faut : 3001
- Logs des requ√™tes en console

```javascript
const express = require('express');
const app = express();
const PORT = 3001;

app.use(express.static('src'));

app.listen(PORT, () => {
    console.log(`Frontend running on http://localhost:${PORT}`);
});
```

## üìù Notes importantes

### Pas de build step
Cette application n'utilise pas de bundler (Webpack, Vite, etc.). Les fichiers sont servis directement, ce qui simplifie le d√©veloppement mais n√©cessite une connexion internet pour les CDN.

### Compatibilit√© navigateurs
- Chrome/Edge : ‚úÖ Moderne
- Firefox : ‚úÖ Moderne
- Safari : ‚úÖ 14+
- IE11 : ‚ùå Non support√©

### Performance
- Lazy loading des images
- Pagination c√¥t√© serveur
- Cache des appels API (localStorage)
- Carrousels optimis√©s avec Swiper

## üêõ D√©bogage

### Probl√®mes courants

**Le frontend ne se connecte pas au backend**
- V√©rifier que Strapi tourne sur `http://localhost:1337`
- V√©rifier l'URL dans `src/js/api.js`
- V√©rifier les CORS dans le backend

**Les images ne s'affichent pas**
- V√©rifier que TMDb a bien import√© les donn√©es
- V√©rifier les URLs des posters dans la base de donn√©es

**Erreur d'authentification**
- V√©rifier le JWT dans localStorage
- V√©rifier les permissions dans Strapi (Users & Permissions)

**Alpine.js ne se charge pas**
- V√©rifier la connexion internet (CDN)
- V√©rifier la console pour les erreurs JS

## üìÑ Licence

ISC

## üë• Auteurs

Projet Cineverse - Equipe CLAM - Formation CDA 2025
